"use strict";function ViewModel(){var e=this;e.locations=ko.observableArray(locations);var t;e.locations().forEach(function(n){t=new google.maps.Marker({position:n.coordinates,map:map,icon:n.icon,content:n.content,title:n.title,animation:google.maps.Animation.DROP}),n.marker=t,n.visibility=ko.observable(!0),t.addListener("click",function(){e.infowindow.setContent(this.content),e.infowindow.open(map,this),this.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){n.marker.setAnimation(null)},700)})}),e.infowindow=new google.maps.InfoWindow,e.listItemClicked=function(e){google.maps.event.trigger(this.marker,"click")},e.filterInput=ko.observable(),e.locationFilter=ko.computed(function(){if(void 0!==e.filterInput()){var t,n=e.filterInput().toLowerCase();e.locations().forEach(function(e){t=e.title.toLowerCase(),t.search(n)===-1?(e.marker.setVisible(!1),e.visibility(!1)):(e.marker.setVisible(!0),e.visibility(!0))})}},this)}function initMap(){var e=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}];map=new google.maps.Map(document.getElementById("map"),{center:{lat:55.9503585,lng:-3.1869788},zoom:14,styles:e,mapTypeControl:!1}),ko.applyBindings(new ViewModel)}function mapError(){document.getElementById("wrapper").innerHTML='<div class="map-error"><h2>Oops, we weren\'t able to load your map.</h2><p>Here\'s a photo of a baby beaver instead... Please try again later.</p><img src="img/baby-beaver.jpg" alt="Photo of a baby beaver."></div>'}var locations=[{title:"Wings",icon:"img/chicken-wing.png",coordinates:{lat:55.949443,lng:-3.189398},content:"The best chicken wings in town."},{title:"Baked Potato Shop",icon:"img/potato.png",coordinates:{lat:55.950501,lng:-3.188515},content:"Delicious baked potatoes with a variety of different fillings."},{title:"Brew Dog",icon:"img/beer.png",coordinates:{lat:55.948594,lng:-3.189563},content:"Amazing craft beer."},{title:"Oink",icon:"img/yummy.png",coordinates:{lat:55.949393,lng:-3.194352},content:"Delicious pulled pork sandwiches."},{title:"Petit Paris",icon:"img/wine.png",coordinates:{lat:55.947736,lng:-3.196568},content:"Probably the best French restaurant in town."},{title:"The Devil's Advocate",icon:"img/dark-beer.png",coordinates:{lat:55.950462,lng:-3.19165},content:"Amazing selection of fine beers and whiskeys."},{title:"Harajuku Kitchen",icon:"img/sushi-box.png",coordinates:{lat:55.940836,lng:-3.203995},content:"Probably the best Japanese Restaurant in town."},{title:"Stockbridge Market",icon:"img/street-food.png",coordinates:{lat:55.957681,lng:-3.208512},content:"Farmers' market, amazing street food."},{title:"The Holyrood 9A",icon:"img/burger.png",coordinates:{lat:55.949501,lng:-3.182734},content:"Probably the best burgers in town."},{title:"Arthur's Seat",icon:"img/shoe.png",coordinates:{lat:55.944635,lng:-3.161833},content:"Climb it and enjoy a great view of the city."},{title:"Hank's",icon:"img/sandwich.png",coordinates:{lat:55.943015,lng:-3.211281},content:"Amazing sandwiches and salads."},{title:"The Oz Bar",icon:"img/8-ball.png",coordinates:{lat:55.947682,lng:-3.192091},content:"Awesome place to go for a game of pool."},{title:"The Bon Vivant",icon:"img/cocktail.png",coordinates:{lat:55.954163,lng:-3.199671},content:"Great food and drinks."},{title:"Ali Willmore Hairdressing",icon:"img/haircut.png",coordinates:{lat:55.950488,lng:-3.184093},content:"Probably the best hairdresser in town."},{title:"Skyscanner",icon:"img/unicorn.png",coordinates:{lat:55.944458,lng:-3.194548},content:"Edinburgh's local unicorn, use their app to find cheap flights."},{title:"Rockstar North",icon:"img/rocket.png",coordinates:{lat:55.950382,lng:-3.176155},content:"This is where people work on the latest Grand Theft Auto game."},{title:"Lovecrumbs",icon:"img/coffee.png",coordinates:{lat:55.946127,lng:-3.201857},content:"Probably the best coffee in town."},{title:"Pinnies & Poppy Seeds",icon:"img/doughnut.png",coordinates:{lat:55.950265,lng:-3.1836},content:"Amazing shortbread, doughnuts and other treats."},{title:"Wee Bite",icon:"img/bacon.png",coordinates:{lat:55.950518,lng:-3.184185},content:"Probably the best bacon rolls in town."},{title:"La Favorita",icon:"img/pizza.png",coordinates:{lat:55.964715,lng:-3.176667},content:"Amazing pizza!"}],map;